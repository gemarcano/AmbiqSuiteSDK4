project('ambiqsdk', 'c',
  default_options: [
    'b_lto=true',
    'b_staticpic=false',
    'c_std=c17',
    'warning_level=3',
  ],
  license: ['AM-BSD-3-Clause'],
  version: files('VERSION.txt'))

apollo4b_src = files([
  #'mcu/apollo4b/hal/dsp/am_hal_interrupt.c',
  'mcu/apollo4b/hal/am_hal_access.c',
  'mcu/apollo4b/hal/am_hal_adc.c',
  'mcu/apollo4b/hal/am_hal_audadc.c',
  'mcu/apollo4b/hal/am_hal_dcu.c',
  'mcu/apollo4b/hal/am_hal_global.c',
  'mcu/apollo4b/hal/am_hal_gpio.c',
  'mcu/apollo4b/hal/am_hal_i2s.c',
  'mcu/apollo4b/hal/am_hal_otp.c',
  'mcu/apollo4b/hal/am_hal_pdm.c',
  'mcu/apollo4b/hal/mcu/am_hal_iom.c',
  'mcu/apollo4b/hal/mcu/am_hal_bootrom_helper.c',
  'mcu/apollo4b/hal/mcu/am_hal_cachectrl.c',
  'mcu/apollo4b/hal/mcu/am_hal_card.c',
  'mcu/apollo4b/hal/mcu/am_hal_card_host.c',
  'mcu/apollo4b/hal/mcu/am_hal_clkgen.c',
  'mcu/apollo4b/hal/mcu/am_hal_cmdq.c',
  'mcu/apollo4b/hal/mcu/am_hal_dsi.c',
  'mcu/apollo4b/hal/mcu/am_hal_fault.c',
  'mcu/apollo4b/hal/mcu/am_hal_interrupt.c',
  'mcu/apollo4b/hal/mcu/am_hal_ios.c',
  'mcu/apollo4b/hal/mcu/am_hal_itm.c',
  'mcu/apollo4b/hal/mcu/am_hal_mcuctrl.c',
  'mcu/apollo4b/hal/mcu/am_hal_mpu.c',
  'mcu/apollo4b/hal/mcu/am_hal_mram.c',
  'mcu/apollo4b/hal/mcu/am_hal_mspi.c',
  'mcu/apollo4b/hal/mcu/am_hal_reset.c',
  'mcu/apollo4b/hal/mcu/am_hal_rtc.c',
  'mcu/apollo4b/hal/mcu/am_hal_sdhc.c',
  'mcu/apollo4b/hal/mcu/am_hal_secure_ota.c',
  'mcu/apollo4b/hal/mcu/am_hal_sysctrl.c',
  'mcu/apollo4b/hal/mcu/am_hal_systick.c',
  'mcu/apollo4b/hal/mcu/am_hal_tpiu.c',
  'mcu/apollo4b/hal/mcu/am_hal_uart.c',
  'mcu/apollo4b/hal/mcu/am_hal_utils.c',
  'mcu/apollo4b/hal/am_hal_pin.c',
  'mcu/apollo4b/hal/am_hal_pwrctrl.c',
  'mcu/apollo4b/hal/am_hal_queue.c',
  'mcu/apollo4b/hal/am_hal_security.c',
  'mcu/apollo4b/hal/am_hal_stimer.c',
  'mcu/apollo4b/hal/am_hal_timer.c',
  'mcu/apollo4b/hal/am_hal_usb.c',
  'mcu/apollo4b/hal/am_hal_wdt.c',
])

apollo4p_src = files([
  #'mcu/apollo4p/hal/dsp/am_hal_interrupt.c',
  'mcu/apollo4p/hal/am_hal_access.c',
  'mcu/apollo4p/hal/am_hal_adc.c',
  'mcu/apollo4p/hal/am_hal_audadc.c',
  'mcu/apollo4p/hal/am_hal_dcu.c',
  'mcu/apollo4p/hal/am_hal_global.c',
  'mcu/apollo4p/hal/am_hal_gpio.c',
  'mcu/apollo4p/hal/am_hal_i2s.c',
  'mcu/apollo4p/hal/am_hal_otp.c',
  'mcu/apollo4p/hal/am_hal_pdm.c',
  'mcu/apollo4p/hal/mcu/am_hal_iom.c',
  'mcu/apollo4p/hal/mcu/am_hal_bootrom_helper.c',
  'mcu/apollo4p/hal/mcu/am_hal_cachectrl.c',
  'mcu/apollo4p/hal/mcu/am_hal_card.c',
  'mcu/apollo4p/hal/mcu/am_hal_card_host.c',
  'mcu/apollo4p/hal/mcu/am_hal_clkgen.c',
  'mcu/apollo4p/hal/mcu/am_hal_cmdq.c',
  'mcu/apollo4p/hal/mcu/am_hal_dsi.c',
  'mcu/apollo4p/hal/mcu/am_hal_fault.c',
  'mcu/apollo4p/hal/mcu/am_hal_interrupt.c',
  'mcu/apollo4p/hal/mcu/am_hal_ios.c',
  'mcu/apollo4p/hal/mcu/am_hal_itm.c',
  'mcu/apollo4p/hal/mcu/am_hal_mcuctrl.c',
  'mcu/apollo4p/hal/mcu/am_hal_mpu.c',
  'mcu/apollo4p/hal/mcu/am_hal_mram.c',
  'mcu/apollo4p/hal/mcu/am_hal_mspi.c',
  'mcu/apollo4p/hal/mcu/am_hal_reset.c',
  'mcu/apollo4p/hal/mcu/am_hal_rtc.c',
  'mcu/apollo4p/hal/mcu/am_hal_sdhc.c',
  'mcu/apollo4p/hal/mcu/am_hal_secure_ota.c',
  'mcu/apollo4p/hal/mcu/am_hal_sysctrl.c',
  'mcu/apollo4p/hal/mcu/am_hal_systick.c',
  'mcu/apollo4p/hal/mcu/am_hal_tpiu.c',
  'mcu/apollo4p/hal/mcu/am_hal_uart.c',
  'mcu/apollo4p/hal/mcu/am_hal_utils.c',
  'mcu/apollo4p/hal/am_hal_pin.c',
  'mcu/apollo4p/hal/am_hal_pwrctrl.c',
  'mcu/apollo4p/hal/am_hal_queue.c',
  'mcu/apollo4p/hal/am_hal_security.c',
  'mcu/apollo4p/hal/am_hal_stimer.c',
  'mcu/apollo4p/hal/am_hal_timer.c',
  'mcu/apollo4p/hal/am_hal_usb.c',
  'mcu/apollo4p/hal/am_hal_wdt.c',
])

header_files = files([
  'ambiq_ble/apps/adv_ext/adv_ext_api.h',
  'ambiq_ble/apps/amdtpc/amdtp_api.h',
  'ambiq_ble/apps/amdtps/amdtp_api.h',
  'ambiq_ble/apps/amota/amota_api.h',
  'ambiq_ble/apps/ancs/ancs_api.h',
  'ambiq_ble/apps/barebone/barebone_api.h',
  'ambiq_ble/apps/beaconscanner/beaconscanner_api.h',
  'ambiq_ble/apps/dtm_module/button_init.h',
  'ambiq_ble/apps/dtm_module/dtm_api.h',
  'ambiq_ble/apps/ibeacon/ibeacon_api.h',
  'ambiq_ble/apps/prodtest_datc/prodtest_datc_api.h',
  'ambiq_ble/apps/prodtest_dats/prodtest_dats_api.h',
  'ambiq_ble/apps/vole/voice_data.h',
  'ambiq_ble/apps/vole/vole_api.h',
  'ambiq_ble/em9304/em9304_init.h',
  'ambiq_ble/em9304/em9304_patches.h',
  'ambiq_ble/menu/ble_menu.h',
  'ambiq_ble/profiles/amdtpc/amdtpc_api.h',
  'ambiq_ble/profiles/amdtpcommon/amdtp_common.h',
  'ambiq_ble/profiles/amdtps/amdtps_api.h',
  'ambiq_ble/profiles/amota/amotas_api.h',
  'ambiq_ble/profiles/amsc/amsc_api.h',
  'ambiq_ble/profiles/ancc/ancc_api.h',
  'ambiq_ble/profiles/custss/custss_api.h',
  'ambiq_ble/profiles/vole/voles_api.h',
  'ambiq_ble/profiles/volecommon/codec/ama/am_app_KWD_AMA.h',
  'ambiq_ble/profiles/volecommon/codec/ama/pb/accessories.pb.h',
  'ambiq_ble/profiles/volecommon/codec/ama/pb/calling.pb.h',
  'ambiq_ble/profiles/volecommon/codec/ama/pb/central.pb.h',
  'ambiq_ble/profiles/volecommon/codec/ama/pb/common.pb.h',
  'ambiq_ble/profiles/volecommon/codec/ama/pb/device.pb.h',
  'ambiq_ble/profiles/volecommon/codec/ama/pb/media.pb.h',
  'ambiq_ble/profiles/volecommon/codec/ama/pb/pb.h',
  'ambiq_ble/profiles/volecommon/codec/ama/pb/pb_common.h',
  'ambiq_ble/profiles/volecommon/codec/ama/pb/pb_decode.h',
  'ambiq_ble/profiles/volecommon/codec/ama/pb/pb_encode.h',
  'ambiq_ble/profiles/volecommon/codec/ama/pb/speech.pb.h',
  'ambiq_ble/profiles/volecommon/codec/ama/pb/state.pb.h',
  'ambiq_ble/profiles/volecommon/codec/ama/pb/system.pb.h',
  'ambiq_ble/profiles/volecommon/codec/ama/pb/transport.pb.h',
  'ambiq_ble/profiles/volecommon/codec/opus/ae_api.h',
  'ambiq_ble/profiles/volecommon/codec/sbc/sbc.h',
  'ambiq_ble/profiles/volecommon/vole_common.h',
  'ambiq_ble/profile_appl/amdtpcommon/amdtp_common.h',
  'ambiq_ble/profile_appl/amdtps/appl_amdtps.h',
  'ambiq_ble/profile_appl/amdtps/gatt_db.h',
  'ambiq_ble/profile_appl/amota/appl_amota.h',
  'ambiq_ble/profile_appl/amota/gatt_db.h',
  'ambiq_ble/profile_appl/ams/appl_ams.h',
  'ambiq_ble/profile_appl/ams/appl_ams_att_server.h',
  'ambiq_ble/profile_appl/ams/gatt_db.h',
  'ambiq_ble/profile_appl/ancs/appl_ancs.h',
  'ambiq_ble/profile_appl/ancs/appl_ancs_att_server.h',
  'ambiq_ble/profile_appl/ancs/gatt_db.h',
  'ambiq_ble/profile_appl/ibeacon/appl_ibeacon.h',
  'ambiq_ble/profile_appl/ibeacon/gatt_db.h',
  'ambiq_ble/services/svc_amdtp.h',
  'ambiq_ble/services/svc_amotas.h',
  'ambiq_ble/services/svc_amvole.h',
  'ambiq_ble/services/svc_cust.h',
  'ambiq_ble/services/svc_throughput.h',
  'boards/apollo4b_blue_evb/bsp/am_bsp.h',
  'boards/apollo4b_blue_evb/bsp/am_bsp_pins.h',
  'boards/apollo4b_evb/bsp/am_bsp.h',
  'boards/apollo4b_evb/bsp/am_bsp_pins.h',
  'boards/apollo4b_evb_disp_shield/bsp/am_bsp.h',
  'boards/apollo4b_evb_disp_shield/bsp/am_bsp_pins.h',
  'boards/apollo4p_blue_kbr_evb/bsp/am_bsp.h',
  'boards/apollo4p_blue_kbr_evb/bsp/am_bsp_pins.h',
  'boards/apollo4p_blue_kxr_evb/bsp/am_bsp.h',
  'boards/apollo4p_blue_kxr_evb/bsp/am_bsp_pins.h',
  'boards/apollo4p_evb/bsp/am_bsp.h',
  'boards/apollo4p_evb/bsp/am_bsp_pins.h',
  'boards/apollo4p_evb_disp_shield_rev2/bsp/am_bsp.h',
  'boards/apollo4p_evb_disp_shield_rev2/bsp/am_bsp_pins.h',
  'bootloader/am_bootloader.h',
  'bootloader/am_multi_boot.h',
  'bootloader/am_multi_boot_private.h',
  'bootloader/am_multi_boot_secure.h',
  'CMSIS/AmbiqMicro/Include/apollo4b.h',
  'CMSIS/AmbiqMicro/Include/apollo4b_generic.h',
  'CMSIS/AmbiqMicro/Include/apollo4p.h',
  'CMSIS/AmbiqMicro/Include/system_apollo4b.h',
  'CMSIS/AmbiqMicro/Include/system_apollo4p.h',
  'CMSIS/ARM/Include/arm_math.h',
  'CMSIS/ARM/Include/cmsis_armcc.h',
  'CMSIS/ARM/Include/cmsis_armclang.h',
  'CMSIS/ARM/Include/cmsis_compiler.h',
  'CMSIS/ARM/Include/cmsis_gcc.h',
  'CMSIS/ARM/Include/cmsis_iccarm.h',
  'CMSIS/ARM/Include/cmsis_version.h',
  'CMSIS/ARM/Include/core_cm4.h',
  'CMSIS/ARM/Include/mpu_armv7.h',
  'debugger_updates/IAR/src/flashloader/AmbiqMicro/Apollo4p/am_hal_bootrom_helper.h',
  'debugger_updates/IAR/src/flashloader/AmbiqMicro/Apollo4p/am_hal_mram.h',
  'debugger_updates/IAR/src/flashloader/AmbiqMicro/Apollo4p/flash_config.h',
  'devices/am_devices_mspi_is25wx064.h',
  'devices/am_devices.h',
  'devices/am_devices_button.h',
  'devices/am_devices_cooper.h',
  'devices/am_devices_dsi_rm67162.h',
  'devices/am_devices_led.h',
  'devices/am_devices_mspi_atxp032.h',
  'devices/am_devices_mspi_ds35x1ga.h',
  'devices/am_devices_mspi_psram_aps12808l.h',
  'devices/am_devices_mspi_psram_aps25616n.h',
  'devices/am_devices_mspi_psram_aps6404l.h',
  'devices/am_devices_mspi_psram_w958d6nw.h',
  'devices/am_devices_mspi_rm67162.h',
  'devices/am_devices_mspi_rm69330.h',
  'devices/am_devices_nemadc_rm67162.h',
  'devices/am_devices_spiflash.h',
  'devices/am_devices_spipsram.h',
  'devices/am_devices_tma525.h',
  'mcu/am_sdk_version.h',
  'mcu/apollo4b/am_mcu_apollo.h',
  'mcu/apollo4b/hal/am_hal_pdm.h',
  'mcu/apollo4b/hal/am_hal_access.h',
  'mcu/apollo4b/hal/am_hal_adc.h',
  'mcu/apollo4b/hal/am_hal_audadc.h',
  'mcu/apollo4b/hal/am_hal_dcu.h',
  'mcu/apollo4b/hal/am_hal_global.h',
  'mcu/apollo4b/hal/am_hal_gpio.h',
  'mcu/apollo4b/hal/am_hal_i2s.h',
  'mcu/apollo4b/hal/am_hal_otp.h',
  'mcu/apollo4b/hal/mcu/am_hal_bootrom_helper.h',
  'mcu/apollo4b/hal/mcu/am_hal_cachectrl.h',
  'mcu/apollo4b/hal/mcu/am_hal_card.h',
  'mcu/apollo4b/hal/mcu/am_hal_card_host.h',
  'mcu/apollo4b/hal/mcu/am_hal_clkgen.h',
  'mcu/apollo4b/hal/mcu/am_hal_cmdq.h',
  'mcu/apollo4b/hal/mcu/am_hal_dsi.h',
  'mcu/apollo4b/hal/mcu/am_hal_fault.h',
  'mcu/apollo4b/hal/mcu/am_hal_iom.h',
  'mcu/apollo4b/hal/mcu/am_hal_ios.h',
  'mcu/apollo4b/hal/mcu/am_hal_itm.h',
  'mcu/apollo4b/hal/mcu/am_hal_mcu.h',
  'mcu/apollo4b/hal/mcu/am_hal_mcuctrl.h',
  'mcu/apollo4b/hal/mcu/am_hal_mcu_interrupt.h',
  'mcu/apollo4b/hal/mcu/am_hal_mcu_sysctrl.h',
  'mcu/apollo4b/hal/mcu/am_hal_mpu.h',
  'mcu/apollo4b/hal/mcu/am_hal_mram.h',
  'mcu/apollo4b/hal/mcu/am_hal_mspi.h',
  'mcu/apollo4b/hal/mcu/am_hal_reset.h',
  'mcu/apollo4b/hal/mcu/am_hal_rtc.h',
  'mcu/apollo4b/hal/mcu/am_hal_sdhc.h',
  'mcu/apollo4b/hal/mcu/am_hal_secure_ota.h',
  'mcu/apollo4b/hal/mcu/am_hal_systick.h',
  'mcu/apollo4b/hal/mcu/am_hal_tpiu.h',
  'mcu/apollo4b/hal/mcu/am_hal_uart.h',
  'mcu/apollo4b/hal/am_hal_pin.h',
  'mcu/apollo4b/hal/am_hal_pwrctrl.h',
  'mcu/apollo4b/hal/am_hal_queue.h',
  'mcu/apollo4b/hal/am_hal_security.h',
  'mcu/apollo4b/hal/am_hal_status.h',
  'mcu/apollo4b/hal/am_hal_stimer.h',
  'mcu/apollo4b/hal/am_hal_sysctrl.h',
  'mcu/apollo4b/hal/am_hal_system.h',
  'mcu/apollo4b/hal/am_hal_timer.h',
  'mcu/apollo4b/hal/am_hal_usb.h',
  'mcu/apollo4b/hal/am_hal_usbcharger.h',
  'mcu/apollo4b/hal/am_hal_usbregs.h',
  'mcu/apollo4b/hal/am_hal_utils.h',
  'mcu/apollo4b/hal/am_hal_wdt.h',
  'mcu/apollo4b/regs/am_mcu_apollo4b_info0.h',
  'mcu/apollo4b/regs/am_mcu_apollo4b_info1.h',
  'mcu/apollo4b/regs/am_mcu_apollo4b_otp.h',
  'mcu/apollo4b/regs/am_reg.h',
  'mcu/apollo4b/regs/am_reg_base_addresses.h',
  'mcu/apollo4b/regs/am_reg_itm.h',
  'mcu/apollo4b/regs/am_reg_jedec.h',
  'mcu/apollo4b/regs/am_reg_m4.h',
  'mcu/apollo4b/regs/am_reg_macros.h',
  'mcu/apollo4b/regs/am_reg_mcu.h',
  'mcu/apollo4b/regs/am_reg_sysctrl.h',
  'mcu/apollo4b/regs/am_reg_tpiu.h',
  'mcu/apollo4p/am_mcu_apollo.h',
  'mcu/apollo4p/hal/am_hal_pdm.h',
  'mcu/apollo4p/hal/am_hal_access.h',
  'mcu/apollo4p/hal/am_hal_adc.h',
  'mcu/apollo4p/hal/am_hal_audadc.h',
  'mcu/apollo4p/hal/am_hal_dcu.h',
  'mcu/apollo4p/hal/am_hal_global.h',
  'mcu/apollo4p/hal/am_hal_gpio.h',
  'mcu/apollo4p/hal/am_hal_i2s.h',
  'mcu/apollo4p/hal/am_hal_otp.h',
  'mcu/apollo4p/hal/mcu/am_hal_bootrom_helper.h',
  'mcu/apollo4p/hal/mcu/am_hal_cachectrl.h',
  'mcu/apollo4p/hal/mcu/am_hal_card.h',
  'mcu/apollo4p/hal/mcu/am_hal_card_host.h',
  'mcu/apollo4p/hal/mcu/am_hal_clkgen.h',
  'mcu/apollo4p/hal/mcu/am_hal_cmdq.h',
  'mcu/apollo4p/hal/mcu/am_hal_dsi.h',
  'mcu/apollo4p/hal/mcu/am_hal_fault.h',
  'mcu/apollo4p/hal/mcu/am_hal_iom.h',
  'mcu/apollo4p/hal/mcu/am_hal_ios.h',
  'mcu/apollo4p/hal/mcu/am_hal_itm.h',
  'mcu/apollo4p/hal/mcu/am_hal_mcu.h',
  'mcu/apollo4p/hal/mcu/am_hal_mcuctrl.h',
  'mcu/apollo4p/hal/mcu/am_hal_mcu_interrupt.h',
  'mcu/apollo4p/hal/mcu/am_hal_mcu_sysctrl.h',
  'mcu/apollo4p/hal/mcu/am_hal_mpu.h',
  'mcu/apollo4p/hal/mcu/am_hal_mram.h',
  'mcu/apollo4p/hal/mcu/am_hal_mspi.h',
  'mcu/apollo4p/hal/mcu/am_hal_reset.h',
  'mcu/apollo4p/hal/mcu/am_hal_rtc.h',
  'mcu/apollo4p/hal/mcu/am_hal_sdhc.h',
  'mcu/apollo4p/hal/mcu/am_hal_secure_ota.h',
  'mcu/apollo4p/hal/mcu/am_hal_systick.h',
  'mcu/apollo4p/hal/mcu/am_hal_tpiu.h',
  'mcu/apollo4p/hal/mcu/am_hal_uart.h',
  'mcu/apollo4p/hal/am_hal_pin.h',
  'mcu/apollo4p/hal/am_hal_pwrctrl.h',
  'mcu/apollo4p/hal/am_hal_queue.h',
  'mcu/apollo4p/hal/am_hal_security.h',
  'mcu/apollo4p/hal/am_hal_status.h',
  'mcu/apollo4p/hal/am_hal_stimer.h',
  'mcu/apollo4p/hal/am_hal_sysctrl.h',
  'mcu/apollo4p/hal/am_hal_system.h',
  'mcu/apollo4p/hal/am_hal_timer.h',
  'mcu/apollo4p/hal/am_hal_usb.h',
  'mcu/apollo4p/hal/am_hal_usbcharger.h',
  'mcu/apollo4p/hal/am_hal_usbregs.h',
  'mcu/apollo4p/hal/am_hal_utils.h',
  'mcu/apollo4p/hal/am_hal_wdt.h',
  'mcu/apollo4p/regs/am_mcu_apollo4p_info0.h',
  'mcu/apollo4p/regs/am_mcu_apollo4p_info1.h',
  'mcu/apollo4p/regs/am_mcu_apollo4p_otp.h',
  'mcu/apollo4p/regs/am_reg.h',
  'mcu/apollo4p/regs/am_reg_base_addresses.h',
  'mcu/apollo4p/regs/am_reg_itm.h',
  'mcu/apollo4p/regs/am_reg_jedec.h',
  'mcu/apollo4p/regs/am_reg_m4.h',
  'mcu/apollo4p/regs/am_reg_macros.h',
  'mcu/apollo4p/regs/am_reg_mcu.h',
  'mcu/apollo4p/regs/am_reg_sysctrl.h',
  'mcu/apollo4p/regs/am_reg_tpiu.h',
  'third_party/cordio/ble-host/include/att_api.h',
  'third_party/cordio/ble-host/include/att_defs.h',
  'third_party/cordio/ble-host/include/att_handler.h',
  'third_party/cordio/ble-host/include/att_uuid.h',
  'third_party/cordio/ble-host/include/dm_api.h',
  'third_party/cordio/ble-host/include/dm_handler.h',
  'third_party/cordio/ble-host/include/hci_api.h',
  'third_party/cordio/ble-host/include/hci_cmd.h',
  'third_party/cordio/ble-host/include/hci_core.h',
  'third_party/cordio/ble-host/include/hci_drv.h',
  'third_party/cordio/ble-host/include/hci_evt.h',
  'third_party/cordio/ble-host/include/hci_handler.h',
  'third_party/cordio/ble-host/include/hci_tr.h',
  'third_party/cordio/ble-host/include/l2c_api.h',
  'third_party/cordio/ble-host/include/l2c_defs.h',
  'third_party/cordio/ble-host/include/l2c_handler.h',
  'third_party/cordio/ble-host/include/sec_api.h',
  'third_party/cordio/ble-host/include/smp_api.h',
  'third_party/cordio/ble-host/include/smp_defs.h',
  'third_party/cordio/ble-host/include/smp_handler.h',
  'third_party/cordio/ble-host/sources/hci/ambiq/cooper/ble_fw_image.h',
  'third_party/cordio/ble-host/sources/hci/ambiq/cooper/hci_dbg_trc.h',
  'third_party/cordio/ble-host/sources/hci/ambiq/cooper/hci_drv_cooper.h',
  'third_party/cordio/ble-host/sources/hci/ambiq/cooper/info0_patch.h',
  'third_party/cordio/ble-host/sources/hci/ambiq/cooper/info1_patch.h',
  'third_party/cordio/ble-host/sources/hci/ambiq/hci_core_ps.h',
  'third_party/cordio/ble-host/sources/hci/ambiq/hci_drv_apollo.h',
  'third_party/cordio/ble-host/sources/hci/ambiq/hci_tr_apollo.h',
  'third_party/cordio/ble-host/sources/sec/common/sec_main.h',
  'third_party/cordio/ble-host/sources/stack/att/attc_main.h',
  'third_party/cordio/ble-host/sources/stack/att/atts_main.h',
  'third_party/cordio/ble-host/sources/stack/att/att_main.h',
  'third_party/cordio/ble-host/sources/stack/att/att_sign.h',
  'third_party/cordio/ble-host/sources/stack/cfg/cfg_stack.h',
  'third_party/cordio/ble-host/sources/stack/dm/dm_adv.h',
  'third_party/cordio/ble-host/sources/stack/dm/dm_conn.h',
  'third_party/cordio/ble-host/sources/stack/dm/dm_dev.h',
  'third_party/cordio/ble-host/sources/stack/dm/dm_main.h',
  'third_party/cordio/ble-host/sources/stack/dm/dm_phy.h',
  'third_party/cordio/ble-host/sources/stack/dm/dm_priv.h',
  'third_party/cordio/ble-host/sources/stack/dm/dm_scan.h',
  'third_party/cordio/ble-host/sources/stack/dm/dm_sec.h',
  'third_party/cordio/ble-host/sources/stack/hci/hci_main.h',
  'third_party/cordio/ble-host/sources/stack/l2c/l2c_main.h',
  'third_party/cordio/ble-host/sources/stack/smp/smpi_main.h',
  'third_party/cordio/ble-host/sources/stack/smp/smpr_main.h',
  'third_party/cordio/ble-host/sources/stack/smp/smp_main.h',
  'third_party/cordio/ble-host/sources/stack/smp/smp_sc_main.h',
  'third_party/cordio/ble-profiles/include/app/app_api.h',
  'third_party/cordio/ble-profiles/include/app/app_cfg.h',
  'third_party/cordio/ble-profiles/include/app/app_db.h',
  'third_party/cordio/ble-profiles/include/app/app_hw.h',
  'third_party/cordio/ble-profiles/include/app/app_param.h',
  'third_party/cordio/ble-profiles/include/app/app_terminal.h',
  'third_party/cordio/ble-profiles/include/app/app_ui.h',
  'third_party/cordio/ble-profiles/include/app/ui_api.h',
  'third_party/cordio/ble-profiles/sources/apps/app/app_main.h',
  'third_party/cordio/ble-profiles/sources/apps/assettag/assettag_api.h',
  'third_party/cordio/ble-profiles/sources/apps/cycling/cycling_api.h',
  'third_party/cordio/ble-profiles/sources/apps/datc/datc_api.h',
  'third_party/cordio/ble-profiles/sources/apps/dats/dats_api.h',
  'third_party/cordio/ble-profiles/sources/apps/fit/fit_api.h',
  'third_party/cordio/ble-profiles/sources/apps/gluc/gluc_api.h',
  'third_party/cordio/ble-profiles/sources/apps/hidapp/hidapp_api.h',
  'third_party/cordio/ble-profiles/sources/apps/locator/locator_api.h',
  'third_party/cordio/ble-profiles/sources/apps/medc/medc_api.h',
  'third_party/cordio/ble-profiles/sources/apps/medc/medc_main.h',
  'third_party/cordio/ble-profiles/sources/apps/meds/meds_api.h',
  'third_party/cordio/ble-profiles/sources/apps/meds/meds_main.h',
  'third_party/cordio/ble-profiles/sources/apps/sensor/sensor_api.h',
  'third_party/cordio/ble-profiles/sources/apps/tag/tag_api.h',
  'third_party/cordio/ble-profiles/sources/apps/uribeacon/uribeacon_api.h',
  'third_party/cordio/ble-profiles/sources/apps/watch/watch_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/anpc/anpc_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/atpc/atpc_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/atps/atps_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/bas/bas_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/blpc/blpc_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/blps/blps_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/cpp/cpp_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/cscp/cscp_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/dis/dis_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/fmpl/fmpl_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/gap/gap_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/gatt/gatt_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/glpc/glpc_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/glps/glps_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/glps/glps_main.h',
  'third_party/cordio/ble-profiles/sources/profiles/hid/hid_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/hrpc/hrpc_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/hrps/hrps_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/htpc/htpc_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/htps/htps_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/include/wdx_defs.h',
  'third_party/cordio/ble-profiles/sources/profiles/paspc/paspc_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/plxpc/plxpc_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/plxps/plxps_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/plxps/plxps_main.h',
  'third_party/cordio/ble-profiles/sources/profiles/rscp/rscp_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/scpps/scpps_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/sensor/gyro_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/sensor/temp_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/tipc/tipc_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/udsc/udsc_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/uribeacon/uricfg_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/uribeacon/uricfg_defs.h',
  'third_party/cordio/ble-profiles/sources/profiles/wdxc/wdxc_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/wdxc/wdxc_main.h',
  'third_party/cordio/ble-profiles/sources/profiles/wdxs/wdxs_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/wdxs/wdxs_main.h',
  'third_party/cordio/ble-profiles/sources/profiles/wdxs/wdxs_stream.h',
  'third_party/cordio/ble-profiles/sources/profiles/wpc/wpc_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/wspc/wspc_api.h',
  'third_party/cordio/ble-profiles/sources/profiles/wsps/wsps_api.h',
  'third_party/cordio/ble-profiles/sources/services/svc_gls.h',
  'third_party/cordio/ble-profiles/sources/services/svc_alert.h',
  'third_party/cordio/ble-profiles/sources/services/svc_batt.h',
  'third_party/cordio/ble-profiles/sources/services/svc_bps.h',
  'third_party/cordio/ble-profiles/sources/services/svc_cfg.h',
  'third_party/cordio/ble-profiles/sources/services/svc_ch.h',
  'third_party/cordio/ble-profiles/sources/services/svc_core.h',
  'third_party/cordio/ble-profiles/sources/services/svc_cps.h',
  'third_party/cordio/ble-profiles/sources/services/svc_cscs.h',
  'third_party/cordio/ble-profiles/sources/services/svc_cte.h',
  'third_party/cordio/ble-profiles/sources/services/svc_dis.h',
  'third_party/cordio/ble-profiles/sources/services/svc_gyro.h',
  'third_party/cordio/ble-profiles/sources/services/svc_hid.h',
  'third_party/cordio/ble-profiles/sources/services/svc_hrs.h',
  'third_party/cordio/ble-profiles/sources/services/svc_hts.h',
  'third_party/cordio/ble-profiles/sources/services/svc_ipss.h',
  'third_party/cordio/ble-profiles/sources/services/svc_plxs.h',
  'third_party/cordio/ble-profiles/sources/services/svc_px.h',
  'third_party/cordio/ble-profiles/sources/services/svc_rscs.h',
  'third_party/cordio/ble-profiles/sources/services/svc_scpss.h',
  'third_party/cordio/ble-profiles/sources/services/svc_temp.h',
  'third_party/cordio/ble-profiles/sources/services/svc_time.h',
  'third_party/cordio/ble-profiles/sources/services/svc_uricfg.h',
  'third_party/cordio/ble-profiles/sources/services/svc_wdxs.h',
  'third_party/cordio/ble-profiles/sources/services/svc_wp.h',
  'third_party/cordio/ble-profiles/sources/services/svc_wss.h',
  'third_party/cordio/wsf/include/hci_defs.h',
  'third_party/cordio/wsf/include/ll_defs.h',
  'third_party/cordio/wsf/include/wsf_buf.h',
  'third_party/cordio/wsf/include/wsf_bufio.h',
  'third_party/cordio/wsf/include/wsf_efs.h',
  'third_party/cordio/wsf/include/wsf_math.h',
  'third_party/cordio/wsf/include/wsf_msg.h',
  'third_party/cordio/wsf/include/wsf_os.h',
  'third_party/cordio/wsf/include/wsf_queue.h',
  'third_party/cordio/wsf/include/wsf_timer.h',
  'third_party/cordio/wsf/sources/port/freertos/wsf_assert.h',
  'third_party/cordio/wsf/sources/port/freertos/wsf_cs.h',
  'third_party/cordio/wsf/sources/port/freertos/wsf_intrinsic.h',
  'third_party/cordio/wsf/sources/port/freertos/wsf_os_int.h',
  'third_party/cordio/wsf/sources/port/freertos/wsf_trace.h',
  'third_party/cordio/wsf/sources/port/freertos/wsf_types.h',
  'third_party/cordio/wsf/sources/util/bda.h',
  'third_party/cordio/wsf/sources/util/bstream.h',
  'third_party/cordio/wsf/sources/util/calc128.h',
  'third_party/cordio/wsf/sources/util/crc32.h',
  'third_party/cordio/wsf/sources/util/print.h',
  'third_party/cordio/wsf/sources/util/terminal.h',
  'third_party/cordio/wsf/sources/util/wstr.h',
  'third_party/crypto/host/include/aes_alt.h',
  'third_party/crypto/host/include/bootimagesverifier_def.h',
  'third_party/crypto/host/include/ccm_alt.h',
  'third_party/crypto/host/include/cc_aes_defs.h',
  'third_party/crypto/host/include/cc_aes_defs_proj.h',
  'third_party/crypto/host/include/cc_cmpu.h',
  'third_party/crypto/host/include/cc_dmpu.h',
  'third_party/crypto/host/include/cc_ecc_internal.h',
  'third_party/crypto/host/include/cc_ecpki_domains_defs.h',
  'third_party/crypto/host/include/cc_ecpki_types.h',
  'third_party/crypto/host/include/cc_error.h',
  'third_party/crypto/host/include/cc_ffcdh.h',
  'third_party/crypto/host/include/cc_ffcdh_error.h',
  'third_party/crypto/host/include/cc_ffc_domain.h',
  'third_party/crypto/host/include/cc_ffc_domain_error.h',
  'third_party/crypto/host/include/cc_general_defs.h',
  'third_party/crypto/host/include/cc_hash_defs.h',
  'third_party/crypto/host/include/cc_kdf.h',
  'third_party/crypto/host/include/cc_lib.h',
  'third_party/crypto/host/include/cc_pal_sb_plat.h',
  'third_party/crypto/host/include/cc_pka_defs_hw.h',
  'third_party/crypto/host/include/cc_pka_hw_plat_defs.h',
  'third_party/crypto/host/include/cc_prod.h',
  'third_party/crypto/host/include/cc_prod_error.h',
  'third_party/crypto/host/include/cc_rnd_common.h',
  'third_party/crypto/host/include/cc_sram_map.h',
  'third_party/crypto/host/include/cc_util_error.h',
  'third_party/crypto/host/include/chacha20_alt.h',
  'third_party/crypto/host/include/chachapoly_alt.h',
  'third_party/crypto/host/include/cmac_alt.h',
  'third_party/crypto/host/include/config-cc312-apollo4-no-os.h',
  'third_party/crypto/host/include/config-cc312-apollo4-nuttx.h',
  'third_party/crypto/host/include/config-cc312-mps2-freertos.h',
  'third_party/crypto/host/include/config-cc312.h',
  'third_party/crypto/host/include/dhm_alt.h',
  'third_party/crypto/host/include/gcm_alt.h',
  'third_party/crypto/host/include/mbedtls_ccm_common.h',
  'third_party/crypto/host/include/mbedtls_cc_chacha.h',
  'third_party/crypto/host/include/mbedtls_cc_chacha_error.h',
  'third_party/crypto/host/include/mbedtls_cc_chacha_poly.h',
  'third_party/crypto/host/include/mbedtls_cc_chacha_poly_error.h',
  'third_party/crypto/host/include/mbedtls_cc_ecdh_edwards.h',
  'third_party/crypto/host/include/mbedtls_cc_ecdsa_edwards.h',
  'third_party/crypto/host/include/mbedtls_cc_ecies.h',
  'third_party/crypto/host/include/mbedtls_cc_mng.h',
  'third_party/crypto/host/include/mbedtls_cc_mng_error.h',
  'third_party/crypto/host/include/mbedtls_cc_poly.h',
  'third_party/crypto/host/include/mbedtls_cc_poly_error.h',
  'third_party/crypto/host/include/mbedtls_cc_sbrt.h',
  'third_party/crypto/host/include/mbedtls_cc_sha512_t.h',
  'third_party/crypto/host/include/mbedtls_cc_srp.h',
  'third_party/crypto/host/include/mbedtls_cc_srp_error.h',
  'third_party/crypto/host/include/mbedtls_cc_util_asset_prov.h',
  'third_party/crypto/host/include/mbedtls_cc_util_defs.h',
  'third_party/crypto/host/include/mbedtls_cc_util_key_derivation.h',
  'third_party/crypto/host/include/mbedtls_cc_util_key_derivation_defs.h',
  'third_party/crypto/host/include/poly1305_alt.h',
  'third_party/crypto/host/include/rsa_alt.h',
  'third_party/crypto/host/include/secureboot_basetypes.h',
  'third_party/crypto/host/include/secureboot_defs.h',
  'third_party/crypto/host/include/secureboot_gen_defs.h',
  'third_party/crypto/host/include/sha1_alt.h',
  'third_party/crypto/host/include/sha256_alt.h',
  'third_party/crypto/host/include/cc_hash_defs_proj.h',
  'third_party/crypto/host/include/config-cc312-mps2-no-os.h',
  'third_party/crypto/host/src/hal/cc_hal_plat.h',
  'third_party/crypto/mbedtls/include/mbedtls/compat-1.3.h',
  'third_party/crypto/mbedtls/include/mbedtls/md4.h',
  'third_party/crypto/mbedtls/include/mbedtls/aes.h',
  'third_party/crypto/mbedtls/include/mbedtls/aesni.h',
  'third_party/crypto/mbedtls/include/mbedtls/arc4.h',
  'third_party/crypto/mbedtls/include/mbedtls/aria.h',
  'third_party/crypto/mbedtls/include/mbedtls/asn1.h',
  'third_party/crypto/mbedtls/include/mbedtls/asn1write.h',
  'third_party/crypto/mbedtls/include/mbedtls/base64.h',
  'third_party/crypto/mbedtls/include/mbedtls/bignum.h',
  'third_party/crypto/mbedtls/include/mbedtls/blowfish.h',
  'third_party/crypto/mbedtls/include/mbedtls/bn_mul.h',
  'third_party/crypto/mbedtls/include/mbedtls/camellia.h',
  'third_party/crypto/mbedtls/include/mbedtls/ccm.h',
  'third_party/crypto/mbedtls/include/mbedtls/certs.h',
  'third_party/crypto/mbedtls/include/mbedtls/chacha20.h',
  'third_party/crypto/mbedtls/include/mbedtls/chachapoly.h',
  'third_party/crypto/mbedtls/include/mbedtls/check_config.h',
  'third_party/crypto/mbedtls/include/mbedtls/cipher.h',
  'third_party/crypto/mbedtls/include/mbedtls/cipher_internal.h',
  'third_party/crypto/mbedtls/include/mbedtls/cmac.h',
  'third_party/crypto/mbedtls/include/mbedtls/md5.h',
  'third_party/crypto/mbedtls/include/mbedtls/md_internal.h',
  'third_party/crypto/mbedtls/include/mbedtls/memory_buffer_alloc.h',
  'third_party/crypto/mbedtls/include/mbedtls/net.h',
  'third_party/crypto/mbedtls/include/mbedtls/net_sockets.h',
  'third_party/crypto/mbedtls/include/mbedtls/nist_kw.h',
  'third_party/crypto/mbedtls/include/mbedtls/oid.h',
  'third_party/crypto/mbedtls/include/mbedtls/padlock.h',
  'third_party/crypto/mbedtls/include/mbedtls/pem.h',
  'third_party/crypto/mbedtls/include/mbedtls/pk.h',
  'third_party/crypto/mbedtls/include/mbedtls/pkcs11.h',
  'third_party/crypto/mbedtls/include/mbedtls/pkcs12.h',
  'third_party/crypto/mbedtls/include/mbedtls/pkcs5.h',
  'third_party/crypto/mbedtls/include/mbedtls/pk_internal.h',
  'third_party/crypto/mbedtls/include/mbedtls/platform.h',
  'third_party/crypto/mbedtls/include/mbedtls/platform_time.h',
  'third_party/crypto/mbedtls/include/mbedtls/platform_util.h',
  'third_party/crypto/mbedtls/include/mbedtls/poly1305.h',
  'third_party/crypto/mbedtls/include/mbedtls/ripemd160.h',
  'third_party/crypto/mbedtls/include/mbedtls/rsa.h',
  'third_party/crypto/mbedtls/include/mbedtls/rsa_internal.h',
  'third_party/crypto/mbedtls/include/mbedtls/sha1.h',
  'third_party/crypto/mbedtls/include/mbedtls/sha256.h',
  'third_party/crypto/mbedtls/include/mbedtls/sha512.h',
  'third_party/crypto/mbedtls/include/mbedtls/ssl.h',
  'third_party/crypto/mbedtls/include/mbedtls/ssl_cache.h',
  'third_party/crypto/mbedtls/include/mbedtls/ssl_ciphersuites.h',
  'third_party/crypto/mbedtls/include/mbedtls/ssl_cookie.h',
  'third_party/crypto/mbedtls/include/mbedtls/ssl_internal.h',
  'third_party/crypto/mbedtls/include/mbedtls/ssl_ticket.h',
  'third_party/crypto/mbedtls/include/mbedtls/threading.h',
  'third_party/crypto/mbedtls/include/mbedtls/timing.h',
  'third_party/crypto/mbedtls/include/mbedtls/version.h',
  'third_party/crypto/mbedtls/include/mbedtls/x509.h',
  'third_party/crypto/mbedtls/include/mbedtls/x509_crl.h',
  'third_party/crypto/mbedtls/include/mbedtls/x509_crt.h',
  'third_party/crypto/mbedtls/include/mbedtls/x509_csr.h',
  'third_party/crypto/mbedtls/include/mbedtls/xtea.h',
  'third_party/crypto/mbedtls/include/mbedtls/config.h',
  'third_party/crypto/mbedtls/include/mbedtls/ctr_drbg.h',
  'third_party/crypto/mbedtls/include/mbedtls/debug.h',
  'third_party/crypto/mbedtls/include/mbedtls/des.h',
  'third_party/crypto/mbedtls/include/mbedtls/dhm.h',
  'third_party/crypto/mbedtls/include/mbedtls/ecdh.h',
  'third_party/crypto/mbedtls/include/mbedtls/ecdsa.h',
  'third_party/crypto/mbedtls/include/mbedtls/ecjpake.h',
  'third_party/crypto/mbedtls/include/mbedtls/ecp.h',
  'third_party/crypto/mbedtls/include/mbedtls/ecp_internal.h',
  'third_party/crypto/mbedtls/include/mbedtls/entropy.h',
  'third_party/crypto/mbedtls/include/mbedtls/entropy_poll.h',
  'third_party/crypto/mbedtls/include/mbedtls/error.h',
  'third_party/crypto/mbedtls/include/mbedtls/gcm.h',
  'third_party/crypto/mbedtls/include/mbedtls/havege.h',
  'third_party/crypto/mbedtls/include/mbedtls/hkdf.h',
  'third_party/crypto/mbedtls/include/mbedtls/hmac_drbg.h',
  'third_party/crypto/mbedtls/include/mbedtls/md.h',
  'third_party/crypto/mbedtls/include/mbedtls/md2.h',
  'third_party/crypto/shared/hw/include/dx_crys_kernel.h',
  'third_party/crypto/shared/hw/include/dx_env.h',
  'third_party/crypto/shared/hw/include/dx_fpga_env.h',
  'third_party/crypto/shared/hw/include/dx_host.h',
  'third_party/crypto/shared/hw/include/dx_id_registers.h',
  'third_party/crypto/shared/hw/include/dx_nvm.h',
  'third_party/crypto/shared/hw/include/dx_reg_base_host.h',
  'third_party/crypto/shared/hw/include/dx_reg_common.h',
  'third_party/crypto/shared/hw/include/dx_rng.h',
  'third_party/crypto/shared/include/cc_bitops.h',
  'third_party/crypto/shared/include/cc_crypto_ctx.h',
  'third_party/crypto/shared/include/cc_crypto_defs.h',
  'third_party/crypto/shared/include/cc_hal.h',
  'third_party/crypto/shared/include/cc_lli_defs.h',
  'third_party/crypto/shared/include/cc_mng/mbedtls_cc_mng.h',
  'third_party/crypto/shared/include/cc_mng/mbedtls_cc_mng_error.h',
  'third_party/crypto/shared/include/cc_regs.h',
  'third_party/crypto/shared/include/cc_sym_error.h',
  'third_party/crypto/shared/include/cc_util/cc_util_asset_prov_int.h',
  'third_party/crypto/shared/include/cc_util/cc_util_defs.h',
  'third_party/crypto/shared/include/cc_util/cc_util_error.h',
  'third_party/crypto/shared/include/cc_util/mbedtls_cc_util_defs.h',
  'third_party/crypto/shared/include/cc_util/mbedtls_cc_util_key_derivation.h',
  'third_party/crypto/shared/include/cc_util/mbedtls_cc_util_key_derivation_defs.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/cc_aes_defs_proj.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/cc_ecpki_domain.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/cc_ec_edw_api.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/cc_ec_mont_api.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/cc_hash_defs_proj.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/cc_pka_defs_hw.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/cc_rnd_common.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_aes_ext_dma.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_aes_key_wrap.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_aes_key_wrap_error.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_ccm_star.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_chacha.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_chacha_error.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_chacha_poly.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_chacha_poly_error.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_ecdh_edwards.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_ecdsa_edwards.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_ecies.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_ec_mont_edw_error.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_hkdf.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_hkdf_error.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_poly.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_poly_error.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_sha512_t.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_srp.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_cc_srp_error.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_chacha_ext_dma.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_ext_dma_error.h',
  'third_party/crypto/shared/include/crypto_api/cc3x/mbedtls_hash_ext_dma.h',
  'third_party/crypto/shared/include/crypto_api/cc_aesccm_error.h',
  'third_party/crypto/shared/include/crypto_api/cc_aes_defs.h',
  'third_party/crypto/shared/include/crypto_api/cc_aes_error.h',
  'third_party/crypto/shared/include/crypto_api/cc_ecpki_build.h',
  'third_party/crypto/shared/include/crypto_api/cc_ecpki_dh.h',
  'third_party/crypto/shared/include/crypto_api/cc_ecpki_ecdsa.h',
  'third_party/crypto/shared/include/crypto_api/cc_ecpki_error.h',
  'third_party/crypto/shared/include/crypto_api/cc_ecpki_kg.h',
  'third_party/crypto/shared/include/crypto_api/cc_ecpki_types.h',
  'third_party/crypto/shared/include/crypto_api/cc_error.h',
  'third_party/crypto/shared/include/crypto_api/cc_ffcdh.h',
  'third_party/crypto/shared/include/crypto_api/cc_ffcdh_error.h',
  'third_party/crypto/shared/include/crypto_api/cc_ffc_domain.h',
  'third_party/crypto/shared/include/crypto_api/cc_ffc_domain_error.h',
  'third_party/crypto/shared/include/crypto_api/cc_hash_defs.h',
  'third_party/crypto/shared/include/crypto_api/cc_kdf.h',
  'third_party/crypto/shared/include/crypto_api/cc_kdf_error.h',
  'third_party/crypto/shared/include/crypto_api/cc_rnd_error.h',
  'third_party/crypto/shared/include/crypto_api/cc_rsa_build.h',
  'third_party/crypto/shared/include/crypto_api/cc_rsa_error.h',
  'third_party/crypto/shared/include/crypto_api/cc_rsa_kg.h',
  'third_party/crypto/shared/include/crypto_api/cc_rsa_prim.h',
  'third_party/crypto/shared/include/crypto_api/cc_rsa_schemes.h',
  'third_party/crypto/shared/include/crypto_api/cc_rsa_types.h',
  'third_party/crypto/shared/include/mbedtls/aes_alt.h',
  'third_party/crypto/shared/include/mbedtls/ccm_alt.h',
  'third_party/crypto/shared/include/mbedtls/cc_ecc_internal.h',
  'third_party/crypto/shared/include/mbedtls/chacha20_alt.h',
  'third_party/crypto/shared/include/mbedtls/chachapoly_alt.h',
  'third_party/crypto/shared/include/mbedtls/cmac_alt.h',
  'third_party/crypto/shared/include/mbedtls/config-cc312-apollo4-no-os.h',
  'third_party/crypto/shared/include/mbedtls/config-cc312-apollo4-nuttx.h',
  'third_party/crypto/shared/include/mbedtls/config-cc312-mps2-freertos.h',
  'third_party/crypto/shared/include/mbedtls/config-cc312-mps2-no-os.h',
  'third_party/crypto/shared/include/mbedtls/config-cc312.h',
  'third_party/crypto/shared/include/mbedtls/dhm_alt.h',
  'third_party/crypto/shared/include/mbedtls/gcm_alt.h',
  'third_party/crypto/shared/include/mbedtls/poly1305_alt.h',
  'third_party/crypto/shared/include/mbedtls/rsa_alt.h',
  'third_party/crypto/shared/include/mbedtls/sha1_alt.h',
  'third_party/crypto/shared/include/mbedtls/sha256_alt.h',
  'third_party/crypto/shared/include/pal/cc_log_mask.h',
  'third_party/crypto/shared/include/pal/cc_pal_abort.h',
  'third_party/crypto/shared/include/pal/cc_pal_apbc.h',
  'third_party/crypto/shared/include/pal/cc_pal_barrier.h',
  'third_party/crypto/shared/include/pal/cc_pal_buff_attr.h',
  'third_party/crypto/shared/include/pal/cc_pal_compiler.h',
  'third_party/crypto/shared/include/pal/cc_pal_dma.h',
  'third_party/crypto/shared/include/pal/cc_pal_dma_defs.h',
  'third_party/crypto/shared/include/pal/cc_pal_error.h',
  'third_party/crypto/shared/include/pal/cc_pal_fips.h',
  'third_party/crypto/shared/include/pal/cc_pal_init.h',
  'third_party/crypto/shared/include/pal/cc_pal_log.h',
  'third_party/crypto/shared/include/pal/cc_pal_mem.h',
  'third_party/crypto/shared/include/pal/cc_pal_memmap.h',
  'third_party/crypto/shared/include/pal/cc_pal_mutex.h',
  'third_party/crypto/shared/include/pal/cc_pal_perf.h',
  'third_party/crypto/shared/include/pal/cc_pal_pm.h',
  'third_party/crypto/shared/include/pal/cc_pal_trng.h',
  'third_party/crypto/shared/include/pal/cc_pal_types.h',
  'third_party/crypto/shared/include/pal/freertos/cc_pal_abort_plat.h',
  'third_party/crypto/shared/include/pal/freertos/cc_pal_dma_plat.h',
  'third_party/crypto/shared/include/pal/freertos/cc_pal_interrupt_ctrl_plat.h',
  'third_party/crypto/shared/include/pal/freertos/cc_pal_log_plat.h',
  'third_party/crypto/shared/include/pal/freertos/cc_pal_malloc_plat.h',
  'third_party/crypto/shared/include/pal/freertos/cc_pal_mem_plat.h',
  'third_party/crypto/shared/include/pal/freertos/cc_pal_mutex_plat.h',
  'third_party/crypto/shared/include/pal/freertos/cc_pal_perf_plat.h',
  'third_party/crypto/shared/include/pal/freertos/cc_pal_types_plat.h',
  'third_party/crypto/shared/include/pal/linux/cc_pal_abort_plat.h',
  'third_party/crypto/shared/include/pal/linux/cc_pal_dma_plat.h',
  'third_party/crypto/shared/include/pal/linux/cc_pal_interrupt_ctrl_plat.h',
  'third_party/crypto/shared/include/pal/linux/cc_pal_log_plat.h',
  'third_party/crypto/shared/include/pal/linux/cc_pal_malloc_plat.h',
  'third_party/crypto/shared/include/pal/linux/cc_pal_mem_plat.h',
  'third_party/crypto/shared/include/pal/linux/cc_pal_mutex_plat.h',
  'third_party/crypto/shared/include/pal/linux/cc_pal_perf_plat.h',
  'third_party/crypto/shared/include/pal/linux/cc_pal_types_plat.h',
  'third_party/crypto/shared/include/pal/mbedos/cc_pal_abort_plat.h',
  'third_party/crypto/shared/include/pal/mbedos/cc_pal_dma_plat.h',
  'third_party/crypto/shared/include/pal/mbedos/cc_pal_interrupt_ctrl_plat.h',
  'third_party/crypto/shared/include/pal/mbedos/cc_pal_log_plat.h',
  'third_party/crypto/shared/include/pal/mbedos/cc_pal_malloc_plat.h',
  'third_party/crypto/shared/include/pal/mbedos/cc_pal_mem_plat.h',
  'third_party/crypto/shared/include/pal/mbedos/cc_pal_mutex_plat.h',
  'third_party/crypto/shared/include/pal/mbedos/cc_pal_perf_plat.h',
  'third_party/crypto/shared/include/pal/mbedos/cc_pal_types_plat.h',
  'third_party/crypto/shared/include/pal/no_os/cc_pal_abort_plat.h',
  'third_party/crypto/shared/include/pal/no_os/cc_pal_dma_plat.h',
  'third_party/crypto/shared/include/pal/no_os/cc_pal_interrupt_ctrl_plat.h',
  'third_party/crypto/shared/include/pal/no_os/cc_pal_log_plat.h',
  'third_party/crypto/shared/include/pal/no_os/cc_pal_malloc_plat.h',
  'third_party/crypto/shared/include/pal/no_os/cc_pal_mem_plat.h',
  'third_party/crypto/shared/include/pal/no_os/cc_pal_mutex_plat.h',
  'third_party/crypto/shared/include/pal/no_os/cc_pal_perf_plat.h',
  'third_party/crypto/shared/include/pal/no_os/cc_pal_types_plat.h',
  'third_party/crypto/shared/include/pal/nuttx/cc_pal_abort_plat.h',
  'third_party/crypto/shared/include/pal/nuttx/cc_pal_dma_plat.h',
  'third_party/crypto/shared/include/pal/nuttx/cc_pal_interrupt_ctrl_plat.h',
  'third_party/crypto/shared/include/pal/nuttx/cc_pal_log_plat.h',
  'third_party/crypto/shared/include/pal/nuttx/cc_pal_malloc_plat.h',
  'third_party/crypto/shared/include/pal/nuttx/cc_pal_mem_plat.h',
  'third_party/crypto/shared/include/pal/nuttx/cc_pal_mutex_plat.h',
  'third_party/crypto/shared/include/pal/nuttx/cc_pal_perf_plat.h',
  'third_party/crypto/shared/include/pal/nuttx/cc_pal_types_plat.h',
  'third_party/crypto/shared/include/proj/cc3x/cc_address_defs.h',
  'third_party/crypto/shared/include/proj/cc3x/cc_crypto_boot_defs.h',
  'third_party/crypto/shared/include/proj/cc3x/cc_ecpki_domains_defs.h',
  'third_party/crypto/shared/include/proj/cc3x/cc_general_defs.h',
  'third_party/crypto/shared/include/proj/cc3x/cc_int_general_defs.h',
  'third_party/crypto/shared/include/proj/cc3x/cc_otp_defs.h',
  'third_party/crypto/shared/include/proj/cc3x/cc_pka_hw_plat_defs.h',
  'third_party/crypto/shared/include/proj/cc3x/cc_production_asset.h',
  'third_party/crypto/shared/include/proj/cc3x/cc_sec_defs.h',
  'third_party/crypto/shared/include/proj/cc3x/cc_sram_map.h',
  'third_party/crypto/shared/include/proj/cc3x/cc_util_apbc.h',
  'third_party/crypto/shared/include/proj/cc3x/cc_util_pm.h',
  'third_party/crypto/shared/include/sbrom/cc_asset_prov.h',
  'third_party/crypto/shared/include/sbrom/cc_crypto_x509_common_defs.h',
  'third_party/crypto/shared/include/sbrom/cc_crypto_x509_defs.h',
  'third_party/crypto/shared/include/trng/cc_config_trng90b.h',
  'third_party/FatFs/source/diskio.h',
  'third_party/FatFs/source/ff.h',
  'third_party/FatFs/source/ffconf.h',
  'third_party/FreeRTOSv10.1.1/Source/include/croutine.h',
  'third_party/FreeRTOSv10.1.1/Source/include/deprecated_definitions.h',
  'third_party/FreeRTOSv10.1.1/Source/include/event_groups.h',
  'third_party/FreeRTOSv10.1.1/Source/include/FreeRTOS.h',
  'third_party/FreeRTOSv10.1.1/Source/include/list.h',
  'third_party/FreeRTOSv10.1.1/Source/include/message_buffer.h',
  'third_party/FreeRTOSv10.1.1/Source/include/mpu_prototypes.h',
  'third_party/FreeRTOSv10.1.1/Source/include/mpu_wrappers.h',
  'third_party/FreeRTOSv10.1.1/Source/include/portable.h',
  'third_party/FreeRTOSv10.1.1/Source/include/projdefs.h',
  'third_party/FreeRTOSv10.1.1/Source/include/queue.h',
  'third_party/FreeRTOSv10.1.1/Source/include/semphr.h',
  'third_party/FreeRTOSv10.1.1/Source/include/StackMacros.h',
  'third_party/FreeRTOSv10.1.1/Source/include/stack_macros.h',
  'third_party/FreeRTOSv10.1.1/Source/include/stream_buffer.h',
  'third_party/FreeRTOSv10.1.1/Source/include/task.h',
  'third_party/FreeRTOSv10.1.1/Source/include/timers.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/GCC/AMapollo/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/GCC/AMapollo2/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/GCC/AMapollo4/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/GCC/ARM_CM4F/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/IAR/AMapollo/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/IAR/AMapollo2/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/IAR/AMapollo4/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/IAR/ARM_CM4F/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/Keil/AMapollo/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/Keil/AMapollo2/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/Keil/AMapollo4/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/Keil/ARM_CM4F/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/Keil6/AMapollo/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/Keil6/AMapollo2/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/Keil6/AMapollo4/portmacro.h',
  'third_party/FreeRTOSv10.1.1/Source/portable/Keil6/ARM_CM4F/portmacro.h',
  'third_party/SEGGER/SEGGER_RTT_V680a/RTT/SEGGER_RTT.h',
  'third_party/SEGGER/SEGGER_RTT_V680a/RTT/SEGGER_RTT_Conf.h',
  'third_party/ThinkSi/config/apollo4b_nemagfx/nema_sys_defs.h',
  'third_party/ThinkSi/config/apollo4p_nemagfx/nema_sys_defs.h',
  'third_party/ThinkSi/NemaGFX_SDK/common/mem/tsi_malloc.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/common/nema_event.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/common/nema_utils.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaDC/nema_dc.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaDC/nema_dc_hal.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_blender.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_cmdlist.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_core.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_easing.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_error.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_font.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_graphics.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_hal.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_interpolators.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_math.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_matrix3x3.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_matrix4x4.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_provisional.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_raster.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaGFX/nema_transitions.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaVG/nema_vg.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaVG/nema_vg_context.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaVG/nema_vg_font.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaVG/nema_vg_paint.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaVG/nema_vg_path.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaVG/nema_vg_tsvg.h',
  'third_party/ThinkSi/NemaGFX_SDK/include/tsi/NemaVG/nema_vg_version.h',
  'third_party/ThinkSi/NemaGFX_SDK/NemaDC/nema_dc_dsi.h',
  'third_party/ThinkSi/NemaGFX_SDK/NemaDC/nema_dc_intern.h',
  'third_party/ThinkSi/NemaGFX_SDK/NemaDC/nema_dc_mipi.h',
  'third_party/ThinkSi/NemaGFX_SDK/NemaDC/nema_dc_regs.h',
  'third_party/ThinkSi/NemaGFX_SDK/NemaGFX/nema_programHW.h',
  'third_party/ThinkSi/NemaGFX_SDK/NemaGFX/nema_regs.h',
  'third_party/ThinkSi/NemaGFX_SDK/NemaGFX/nema_ringbuffer.h',
  'third_party/tinyusb/src/class/audio/audio.h',
  'third_party/tinyusb/src/class/audio/audio_device.h',
  'third_party/tinyusb/src/class/bth/bth_device.h',
  'third_party/tinyusb/src/class/cdc/cdc.h',
  'third_party/tinyusb/src/class/cdc/cdc_device.h',
  'third_party/tinyusb/src/class/cdc/cdc_host.h',
  'third_party/tinyusb/src/class/cdc/cdc_rndis.h',
  'third_party/tinyusb/src/class/cdc/cdc_rndis_host.h',
  'third_party/tinyusb/src/class/dfu/dfu.h',
  'third_party/tinyusb/src/class/dfu/dfu_device.h',
  'third_party/tinyusb/src/class/dfu/dfu_rt_device.h',
  'third_party/tinyusb/src/class/hid/hid.h',
  'third_party/tinyusb/src/class/hid/hid_device.h',
  'third_party/tinyusb/src/class/hid/hid_host.h',
  'third_party/tinyusb/src/class/midi/midi.h',
  'third_party/tinyusb/src/class/midi/midi_device.h',
  'third_party/tinyusb/src/class/msc/msc.h',
  'third_party/tinyusb/src/class/msc/msc_device.h',
  'third_party/tinyusb/src/class/msc/msc_host.h',
  'third_party/tinyusb/src/class/net/ncm.h',
  'third_party/tinyusb/src/class/net/net_device.h',
  'third_party/tinyusb/src/class/usbtmc/usbtmc.h',
  'third_party/tinyusb/src/class/usbtmc/usbtmc_device.h',
  'third_party/tinyusb/src/class/vendor/vendor_device.h',
  'third_party/tinyusb/src/class/vendor/vendor_host.h',
  'third_party/tinyusb/src/class/video/video.h',
  'third_party/tinyusb/src/class/video/video_device.h',
  'third_party/tinyusb/src/common/sys_queue.h',
  'third_party/tinyusb/src/common/tusb_common.h',
  'third_party/tinyusb/src/common/tusb_compiler.h',
  'third_party/tinyusb/src/common/tusb_error.h',
  'third_party/tinyusb/src/common/tusb_fifo.h',
  'third_party/tinyusb/src/common/tusb_timeout.h',
  'third_party/tinyusb/src/common/tusb_types.h',
  'third_party/tinyusb/src/common/tusb_verify.h',
  'third_party/tinyusb/src/device/dcd.h',
  'third_party/tinyusb/src/device/dcd_attr.h',
  'third_party/tinyusb/src/device/usbd.h',
  'third_party/tinyusb/src/device/usbd_pvt.h',
  'third_party/tinyusb/src/host/ehci/ehci.h',
  'third_party/tinyusb/src/host/hcd.h',
  'third_party/tinyusb/src/host/hcd_attr.h',
  'third_party/tinyusb/src/host/hub.h',
  'third_party/tinyusb/src/host/ohci/ohci.h',
  'third_party/tinyusb/src/host/usbh.h',
  'third_party/tinyusb/src/host/usbh_classdriver.h',
  'third_party/tinyusb/src/host/usbh_hcd.h',
  'third_party/tinyusb/src/osal/osal.h',
  'third_party/tinyusb/src/osal/osal_freertos.h',
  'third_party/tinyusb/src/osal/osal_mynewt.h',
  'third_party/tinyusb/src/osal/osal_none.h',
  'third_party/tinyusb/src/osal/osal_pico.h',
  'third_party/tinyusb/src/osal/osal_rtthread.h',
  'third_party/tinyusb/src/tusb.h',
  'third_party/tinyusb/src/tusb_option.h',
  'third_party/uecc/uECC.h',
  'third_party/uecc/uECC_ll.h',
  'tools/apollo4b_scripts/oem_tools_pkg/cert_utils/cert_gen_utils/inputData/hello_world_0x18000_chip.h',
  'tools/apollo4b_scripts/oem_tools_pkg/oem_asset_prov_utils/oem_asset_package/dmpu_prov_data_nonsec.h',
  'tools/apollo4b_scripts/oem_tools_pkg/oem_asset_prov_utils/oem_asset_package/dmpu_prov_data_sec.h',
  'utils/am_util.h',
  #'utils/am_util_ble.h',
  'utils/am_util_ble_cooper.h',
  'utils/am_util_debug.h',
  'utils/am_util_delay.h',
  'utils/am_util_id.h',
  'utils/am_util_regdump.h',
  'utils/am_util_stdio.h',
  'utils/am_util_string.h',
  'utils/am_util_time.h',
])

# Install ALL headers under the `ambiq` folder, regardless of what boards are
# being configured
install_headers(header_files, subdir: 'ambiq', preserve_path: true)

# FIXME some of these devices can be compiled if we pull in the right
# flags/files from the third party directory
devices_src = files([
  'devices/am_devices_button.c',
  'devices/am_devices_cooper.c',
  #'devices/am_devices_dsi_rm67162.c',
  'devices/am_devices_led.c',
  #'devices/am_devices_mspi_atxp032.c',
  #'devices/am_devices_mspi_ds35x1ga.c',
  #'devices/am_devices_mspi_is25wx064.c',
  #'devices/am_devices_mspi_psram_aps12808l.c',
  #'devices/am_devices_mspi_psram_aps25616n.c',
  #'devices/am_devices_mspi_psram_aps6404l.c',
  #'devices/am_devices_mspi_psram_w958d6nw.c',
  #'devices/am_devices_mspi_rm67162.c',
  #'devices/am_devices_mspi_rm69330.c',
  #'devices/am_devices_nemadc_rm67162.c',
  #'devices/am_devices_spiflash.c',
  #'devices/am_devices_spipsram.c',
  #'devices/am_devices_tma525.c',
])

utils_src = files([
  #'utils/am_util_ble.c',
  'utils/am_util_ble_cooper.c',
  'utils/am_util_debug.c',
  'utils/am_util_delay.c',
  'utils/am_util_faultisr.c',
  'utils/am_util_id.c',
  #'utils/am_util_regdump.c',
  'utils/am_util_stdio.c',
  'utils/am_util_string.c',
  'utils/am_util_time.c',
])

sdk_includes = [
  'utils/',
  'devices/',
  'CMSIS/AmbiqMicro/Include',
  'CMSIS/ARM/Include',
]

# Support building multiple boards. Every board should have an entry in the
# `boards` list describing it.
boards = [
  { 'path': 'boards/apollo4b_blue_evb', 'name': 'a4b_blue_evb', 'mcu': 'apollo4b'},
  { 'path': 'boards/apollo4b_evb', 'name': 'a4b_evb', 'mcu': 'apollo4b'},
  { 'path': 'boards/apollo4b_evb_disp_shield', 'name': 'a4b_evb_disp', 'mcu': 'apollo4b'},
  { 'path': 'boards/apollo4p_blue_kbr_evb', 'name': 'a4p_blue_kbr_evb', 'mcu': 'apollo4p'},
  { 'path': 'boards/apollo4p_blue_kxr_evb', 'name': 'a4p_blue_kxr_evb', 'mcu': 'apollo4p'},
  { 'path': 'boards/apollo4p_evb', 'name': 'a4p_evb', 'mcu': 'apollo4p'},
  { 'path': 'boards/apollo4p_evb_disp_shield_rev2', 'name': 'a4p_evb_disp', 'mcu': 'apollo4p'},
]

# For boards_sfe, they are all very similar, so leverage some looping to set up
# their entries
_boards = []
foreach board : boards
  src = files([
    board['path'] + '/bsp/am_bsp.c',
    board['path'] + '/bsp/am_bsp_pins.c',
    #    'boards_sfe/common/tools_sfe/templates/startup_gcc.c',
    #    'boards_sfe/common/tools_sfe/templates/startup_gcc.S',
  ])

  includes = [
    board['path'] + '/bsp/',
    'mcu/' + board['mcu'],
    'mcu/' + board['mcu'] + '/hal',
    'mcu/' + board['mcu'] + '/hal/mcu',
    'mcu/' + board['mcu'] + '/regs',
  ]

  includes_str = includes + sdk_includes
  includes = include_directories(includes_str)

  if board['mcu'] == 'apollo4b'
    c_args = [
      '-DAM_PACKAGE_BGA', '-DAM_PART_APOLLO4B', '-DPART_apollo4b',
      '-fno-delete-null-pointer-checks',
    ]
  elif board['mcu'] == 'apollo4p'
    c_args = [
      '-DAM_PACKAGE_BGA', '-DAM_PART_APOLLO4P', '-DPART_apollo4p',
      '-fno-delete-null-pointer-checks',
    ]
  endif
  board += {'sources': src, 'includes': includes, 'includes_str': includes_str, 'c_args': c_args}
  _boards += [board]
endforeach
boards = _boards

# Most of these arguments were taken from the SDK Makefiles.
#
# -fno-delete-null-pointer-checks is required since the Apollo3 has a register
# at address 0x0

link_args = [
  '--specs=nano.specs', '-nostartfiles', '-Wl,--gc-sections',
  '-fno-exceptions', '-fno-delete-null-pointer-checks',
]

# Finally, we should have all of the information required to build all of the libraries:
foreach board : boards
  src = []
  if board['mcu'] == 'apollo4b'
    src += apollo4b_src
  elif board['mcu'] == 'apollo4p'
    src += apollo4p_src
  endif

  lib = library(
    board['name'], src + board['sources'] + utils_src + devices_src,
    include_directories: board['includes'],
    c_args: board['c_args'],
    link_args: link_args,
    install: true,
  )

  pkg = import('pkgconfig')

  # Make sure to append 'ambiq' as we install headers in the ambiq subdir
  pkg_subdirs = ['ambiq']
  foreach inc : board['includes_str']
    pkg_subdirs += 'ambiq' / inc
  endforeach
  pkg.generate(lib,
    subdirs: pkg_subdirs,
    extra_cflags: board['c_args']
  )
endforeach
